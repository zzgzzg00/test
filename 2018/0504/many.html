<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    class ABase{
        constructor(){
            if(new.target === ABase){
                throw new Error('abstract class must not instance')
            }
        }
    }
    class T1 extends ABase{

    }
    class T2 extends ABase{

    }
    class T3 extends ABase{

    }
    function manager() {
        const [t1,t2,t3]=[new T1(),new T2(),new T3()];
        function register(name,func,context){
            context=context||this;
            this[name]=func;
            if(!ABase.prototype[name]){
                ABase.prototype[name]=function(){
                    console.log('empty');
                };
            }
        }
        t1.register=t2.register=t3.register=register;
        const obj={
            t1,
            t2,
            t3
        }
        return{t1,t2,t3,register}
    }
    const {t1,t2,t3}=manager();
    t1.register('add',function(){console.log('add')});
    t1.add();
    t2.add();
    t2.register('add',function(){console.log('add2')});
    t1.add();
    t2.add();
    t3.add();
</script>
</body>
</html>