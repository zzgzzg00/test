<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
<script>
    var str='abcdefg aabb';
    var testArr=[
        'defgh xx',
        'abcdxh aabb',
        'aabcde-aabb',
        'xtzaabb'
    ];
    function matchMax(str,m){
        const len= m.length;
        const arr=[];
        for(let i=0;i<len-1;i++){
            for(let j=len;j>i;j--){
                const sub= m.substring(i,j);
                if(str.indexOf(sub)>-1){
                    arr.push(sub);
                }
            }
        }
        return arr.reduce((a,b)=> a.length> b.length?a:b);
    }
    console.log(`%c ${str}`,'color:red');
    for(let i of testArr){
        console.log(`${i}:${matchMax(str,i)}`);
    }
</script>
</body>
</html>