<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
<script>
    class Test{
        doAction(){
            console.log('test')
        }
    }
    class A{
        constructor(obj){
            this.obj=obj;
        }
        doAction(){
            console.log('a');
            this.obj.doAction();
        }
    }
    class B{
        constructor(obj){
            this.obj=obj;
        }
        doAction(){
            console.log('b');
            this.obj.doAction();
        }
    }
    class C{
        constructor(obj){
            this.obj=obj;
        }
        doAction(){
            console.log('c');
            this.obj.doAction();
        }
    }
    class D{
        constructor(obj){
            this.obj=obj;
        }
        doAction(){
            console.log('d');
            this.obj.doAction();
        }
    }
    function addDercoators(CoreClass,...DecoratorClasses){
        return DecoratorClasses.reduce((a,B)=>new B(a),new CoreClass());
    }
    const[t1,t2,t3]=[addDercoators(Test,A,B),addDercoators(Test,C,D),addDercoators(Test,A,B,C,D)]
    t1.doAction();
    t2.doAction();
    t3.doAction();
</script>
</body>
</html>