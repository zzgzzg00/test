<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=no" />
    <meta name="format-detection"content="telephone=no"/>
    <style>
        :disabled{
            color: lightgray;
        }
    </style>
</head>
<body>
<script src="./common/JSXTransformer.js"></script>
<script src="./common/react15.js"></script>
<script src="./common/react-dom15.js"></script>
<script type="text/jsx">
    const {Component}=React
    const Button=props=>(
        <input
            type={'button'}
            value={props.type}
            onClick={props.change}
            disabled={props.disabled}
        />
    );
    const Input=props=>(
        <input
            type={'text'}
            value={props.value}
            onChange={props.change}
        />
    );
    class Test extends Component{
        constructor(props){
            super(props);
            this.state={value:0}
            this.changeHandle=this.changeHandle.bind(this);
        }
        componentDidMount(){
            window.setTimeout(()=>this.setState({value:10}),1000)
        }
        changeHandle(e){
            const v=e.target.value;
            let value;
            if(v == '+'){
                value=this.state.value+1;
                if(value>this.props.max){
                    value=this.props.max;
                }
                this.setState({value});
            }else if(v == '-'){
                value=this.state.value-1;
                if(value<this.props.min){
                    value=this.props.min;
                }
                this.setState({value});
            }else{
                value=v;
                if(v>this.props.max){
                    value=this.props.max;
                }else if(v<this.props.min){
                    value=this.props.min;
                }
                this.setState({value})
            }
        }
        render(){
            return(
                <div>
                    <Button
                        type={'+'}
                        change={this.changeHandle}
                        disabled={this.state.value == this.props.max}
                    />
                    <Input
                        value={this.state.value}
                        change={this.changeHandle}
                        max={this.props.max}
                        min={this.props.min}
                    />
                    <Button
                        type={'-'}
                        change={this.changeHandle}
                        disabled={this.state.value == this.props.min}
                    />
                </div>
            )
        }
    }
    ReactDOM.render(<Test max={20} min={1}/>,document.body);
</script>
</body>
</html>