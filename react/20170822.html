<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
<script src="./common/JSXTransformer.js"></script>
<script src="./common/react15.js"></script>
<script src="./common/react-dom15.js"></script>
<script src="./common/redux.js"></script>
<script src="./common/react-redux.js"></script>
<script type="text/jsx">
    const {Component}=React;
    const {createStore,combineReducers}=Redux;
    const {connect,Provider}=ReactRedux;
    const initState={
        content:1
    }
    const contentReduce=function(state=0,action){
        const {type,value}=action;
        switch(type){
            case 'change':
                return ++state;
            default:
                return state
        }
    }
    const contenActionCreator=value=>({type:'change',value});
    const reduce=combineReducers({
        content:contentReduce
    });
    const store=createStore(reduce,initState);
    const Test=props=>{
        console.log(props.sign);
        return (
            <div onClick={props.onClick?props.onClick:null}>{props.content}</div>
        )
    }
    const App=props=>(
                <div>
                    <Test sign={'test1'} content={'test1'} />
                    <Test onClick={props.clickHandle} sign={'test2'} content={props.content} />
                </div>
            )
     const mapStateToProps=state=>({content:state.content});
     const mapDispatchToProps=dispatch=>({
        clickHandle(e){
            dispatch(contenActionCreator());
        }
     })
     const AppContainer=connect(mapStateToProps,mapDispatchToProps)(App);
    ReactDOM.render(<Provider store={store}><AppContainer /></Provider>,document.body);
</script>
</body>
</html>