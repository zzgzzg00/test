<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
<div id="container"></div>
<script src="./common/react.js"></script>
<script src="./common/JSXTransformer.js"></script>
<script type="text/jsx">
    const {Component,PropTypes}=React;
    class Temp extends Component{
        static get propTypes(){
            return {
                sign:PropTypes.string.isRequired,
                value:PropTypes.number
            }
        }
        render(){
            return (
                <p>
                    <input
                        type={"text"}
                        value={this.props.value}
                        onChange={this.props.changeHandle.bind(null,this.props.sign)}
                    />
                </p>
            )
        }
    }

    class Container extends Component{
        constructor(props){
            super(props);
            this.state={
                xvalue:props.value/3,
                cvalue:props.value/4
            }
        }
        get changeHandle(){
            return (type,e)=>{
                const v=e.target.value;
                switch(type){
                    case 'x':
                        this.setState({xvalue:v,cvalue:v*3/4});
                        break;
                    case 'c':
                        this.setState({cvalue:v,xvalue:v*4/3});
                        break;
                }
            };
        }
        render(){
            return (
                <div>
                    <Temp
                        changeHandle={this.changeHandle}
                        value={this.state.xvalue}
                        sign={'x'}
                    />
                    <Temp
                        changeHandle={this.changeHandle}
                        value={this.state.cvalue}
                        sign={'c'}
                    />
                </div>
            )
        }
    }

    React.render(<Container
        value={300}
    />,document.getElementById('container'));
</script>
</body>
</html>