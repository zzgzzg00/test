<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta charset="UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta content="telephone=no" name="format-detection" />
    <meta name="apple-mobile-web-app-title" content="火车票-qunar.com">
    <!-- UC默认竖屏 ，UC强制全屏 -->
    <meta name="full-screen" content="yes"/>
    <meta name="browsermode" content="application"/>
    <!-- QQ强制竖屏 QQ强制全屏 -->
    <meta name="x5-orientation" content="portrait"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="x5-page-mode" content="app"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui" />

    <meta name="keywords" content="火车票,火车票查询,列车时刻表,火车票预定" />
    <title>Title</title>
    <style>
        *{
            box-sizing: border-box;
            padding: 0;
            margin: 0;
        }
        :root{
            height: 100%;
        }
        body{
            height: 100%;
            overflow: hidden;
        }
        body>div{
            height: 100vh;
        }
        body>div:nth-of-type(1){
            background-color: red;
        }
        body>div:nth-of-type(2){
            background-color: yellow;
        }
        body>div:nth-of-type(3){
            background-color: blue;
        }
        body>div:nth-of-type(4){
            background-color: green;
        }
        .ani{
            transition: -webkit-transform 0.2s linear;
        }
    </style>
</head>
<body>
<div data-role="page" data-index="1"></div>
<div data-role="page" data-index="2"></div>
<div data-role="page" data-index="3"></div>
<div data-role="page" data-index="4"></div>
<script>
    var arr=null,
        nowPosition=0,
        wheight=window.innerHeight;
    var body=document.body;
    function move(e){
        var target=e.target;
        if(target.getAttribute('data-role')=='page'){
            if(!arr){
                arr=[e.touches[0].pageY]
                return;
            }
            var offset=e.touches[0].pageY;
            arr.push(offset);
            var _offset=offset-arr[0];
            var finaloffset=-nowPosition*wheight+_offset;
            body.style.webkitTransform='translateY('+finaloffset+'px)';
        }
    }
    function moveend(e){
        var offset=arr[arr.length-1]-arr[0];
        var target=e.target;
        var index=target.getAttribute('data-index');
        if(offset<0){
            nowPosition+=1;
        }else{
            nowPosition-=1;
        }
        if(nowPosition<0){
            nowPosition=0;
        }
        var finalOffset=-nowPosition*wheight;
        body.className='ani';
        body.style.webkitTransform='translateY('+finalOffset+'px)';
        arr=null;
        window.setTimeout(function(){
            body.className='';
        },200)
    }
    document.body.addEventListener('touchmove',move,false);
    document.body.addEventListener('touchend',moveend,false);
</script>
</body>
</html>