<!DOCTYPE>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <style>

    </style>
</head>
<body>
<script src="//q.qunarzz.com/open_m_train/prd/scripts/zepto@5f84d4ac791c84f64346aec65b2a0083.js"></script>
<script>
    var reg=/^(?=##.{1,50}##$)##[\u4e00-\u9fa5a-z\d]*([\u4e00-\u9fa5a-z\d]*\[[a-z\d]+\:[a-z\u4e00-\u9fa5\d]+\])*[a-z\u4e00-\u9fa5\d]*##/i;

    var arr=[
        '##我是一个标题[id:1][name:李四]##',
        '##我是一个标题##',
        '##我是一个标题[id:1][name:李四]aa[name:李四]##',
        '##我是一个标题[id:1][name:李四]aa[name:李四]name:李四]aa[name:李四]##',
        '##我是一个标题[id:1][name:李四]aa[name:李四][name:李四]aa[name]##',
        '我是一个标题[id:1][name:李四]我是一个标题[id:1][name:李四]我是一个标题[id:1][name:李四]我是一个标题[id:1][name:李四]我是一个标题[id:1][name:李四]我是一个标题[id:1][name:李四]'
    ]
    arr.forEach(function (item) {
        console.log(reg.test(item));
    })
</script>
</body>
</html>