<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    const observer=new MutationObserver(function(mutations, instance){
        console.log(mutations);
//        console.log(instance); //观察器实例
    });
    observer.observe(document.body,{
        childList: true,
        attributes: true,
        characterData:true,
        subtree:true,
        characterDataOldValue: true,
        attributeOldValue: true,
        attributeFilter:['data-x']
    });
    setTimeout(function(){
        console.log('add div');
        const div=document.createElement('div');
        document.body.appendChild(div);
        setTimeout(function(){
            console.log('innerHTML')
            div.innerHTML='aaa';
            setTimeout(function(){
                console.log('setattribute');
                div.setAttribute('data-x','xx');
                div.setAttribute('data-y','xx');
                setTimeout(function(){
                    div.setAttribute('data-x','xy');
                    div.setAttribute('data-y','xy');
                },1000);
            },1000);
        },1000);
    },1000);
</script>
</body>
</html>