<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script src="../common/JSXTransformer.js"></script>
<script src="../common/react16.6.js"></script>
<script src="../common/react-dom16.6.js"></script>
<script type="text/jsx">
    React.__spread=Object.assign;
    const {Component}=React;
    const Load=props=>(<div>loading...</div>);
    const App=props=>(<div>{props.name}-{props.age}</div>);
    function addFetch(timeout){
        return function(Com,Lo=Load){
            return class extends Component{
                constructor(props){
                    super(props);
                    this.state={
                        isLoaded:false
                    }
                    setTimeout(()=>{
                        this.setState({
                            isLoaded:true,
                            name:'gjj',
                            age:32
                        })
                    },timeout);
                }
                render(){
                    const {isLoaded}=this.state;
                    if(!isLoaded){
                        return <Lo />
                    }else{
                        return(
                            <Com {...this.state} />
                        )
                    }
                }
            }
        }
    }
    const Page=addFetch(2000)(App,Load);
    ReactDOM.render(<Page />,document.body);
</script>
</body>
</html>