<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<img crossOrigin = "Anonymous"/>
<svg width="200" height="200" viewBox="0 0 100 100">
    <foreignObject width="100" height="100">
        <div id="svgbody">
        </div>
    </foreignObject>
</svg>
<img id="result"/>
<script>
    const div=document.getElementById('svgbody');
    var canvas=document.createElement('canvas');
    const img=document.querySelector('img');
    const result=document.querySelector('#result');
    const svg=document.querySelector('svg');
    img.onload=function(){
        canvas.width=img.width;
        canvas.height=img.height;
        const context=canvas.getContext('2d');
        context.drawImage(this,0,0);
        const base64=canvas.toDataURL();
        const content=`
            <p style="font-size: 20px;color:red;">测试时</p>
            <img style="max-width: 100%;" src="${base64}"></img>
        `
        div.innerHTML=content;
        const html=(new XMLSerializer).serializeToString(svg);
        const data=new Blob([html],{type:'image/svg+xml'});
        const url=URL.createObjectURL(data);
        result.src=url;
    }
    img.src='//s.qunarzz.com/open_m_train/active/fatherday/main_but.png';
</script>
</body>
</html>