<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function extend(Sub,Par){
        function f(){};
        f.prototype=Par.prototype;
        Sub.prototype=new f();
        Sub.prototype.constructor=Sub;
        Sub.prototype.super=Par;
    }
    function Test(...args){
        this.super.call(this,...args);
    }

    /**
     * 未能正确初始化
     * Array构造函数并不是通过this.xxx=xxx初始化实力属性
     * 下标操作未能修改length属性 length属性也未能反影响到下标值
     * */
    extend(Test,Array);
    let t=new Test(1,2);
    console.log(t[0]);//undefined
    t.push(1,2);
    t[5]=2;
    console.log(t.length);//2
    t.length=1;
    console.log(t[1]);//2

    /**
     * ok
     * */
    let c=new Array(1,2);
    Object.defineProperties(c,{
        show:{
            value:function(){
                console.log(this.length);
            }
        }
    });
    c[7]=0;
    c.show();//8
    c.length=1;
    console.log(c[1]);//undefined
</script>
</body>
</html>