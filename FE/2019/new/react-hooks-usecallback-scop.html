<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script src="../../common/JSXTransformer.js"></script>
<script src="../../common/react@16.8.5.js"></script>
<script src="../../common/react-dom@16.8.4.js"></script>
<script type="text/jsx">
    const handleSet=new Set();
    const {useCallback,useEffect,useState}=React;
    const arr=[0,1];
    /**
     * setCount值正常累加
     * _count在外部访问依旧为0
     * arr在外部访问正常反转
     * */
    const App=props=>{
        let _count=0;
        const [count,setCount]=useState(_count);
        const clickHandle=useCallback(()=>{
            _count+=1;
            setCount(_count);
            arr.reverse();
        },[]);
        handleSet.add(clickHandle);
        console.log(handleSet.size,arr);
        return(
            <p onClick={clickHandle}>{count}-{_count}</p>
        )
    }
    ReactDOM.render(<App />,document.body);
</script>
</body>
</html>